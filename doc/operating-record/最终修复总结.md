# WordPress REST API PythonåŒ…æœ€ç»ˆä¿®å¤æ€»ç»“

## ğŸ‰ æ‰€æœ‰é”™è¯¯å·²å®Œå…¨ä¿®å¤

### âœ… ä¿®å¤çš„é—®é¢˜åˆ—è¡¨

#### 1. é¡µé¢åˆ›å»ºtemplateå‚æ•°é”™è¯¯
**é—®é¢˜**ï¼š`[rest_invalid_param] HTTP 400 æ— æ•ˆå‚æ•°ï¼štemplate`

**åŸå› **ï¼šWordPressç«™ç‚¹å¯èƒ½ä¸æ”¯æŒè‡ªå®šä¹‰æ¨¡æ¿å‚æ•°

**è§£å†³æ–¹æ¡ˆ**ï¼šç§»é™¤templateå‚æ•°ï¼Œä½¿ç”¨é»˜è®¤æ¨¡æ¿
```python
# ä¿®å¤å‰
template="page-custom.php"  # å¯¼è‡´é”™è¯¯

# ä¿®å¤å  
# template="page-custom.php"  # ç§»é™¤æ¨¡æ¿å‚æ•°ï¼Œé¿å…æ— æ•ˆå‚æ•°é”™è¯¯
```

#### 2. æ ‡ç­¾å’Œåª’ä½“metaå­—æ®µéªŒè¯é”™è¯¯
**é—®é¢˜**ï¼š`1 validation error for Tag/Media meta Input should be a valid dictionary [type=dict_type, input_value=[], input_type=list]`

**åŸå› **ï¼šéƒ¨åˆ†æœåŠ¡ä»ä½¿ç”¨æ—§çš„æ¨¡å‹åˆ›å»ºæ–¹å¼

**è§£å†³æ–¹æ¡ˆ**ï¼šç»Ÿä¸€æ‰€æœ‰æœåŠ¡ä½¿ç”¨ `from_api_response()` æ–¹æ³•
- âœ… ä¿®å¤TagServiceä¸­çš„æ‰€æœ‰æ¨¡å‹åˆ›å»º
- âœ… ä¿®å¤MediaServiceä¸­çš„æ‰€æœ‰æ¨¡å‹åˆ›å»º  
- âœ… ä¿®å¤CommentServiceä¸­çš„æ‰€æœ‰æ¨¡å‹åˆ›å»º

#### 3. åˆ†é¡µæŸ¥è¯¢è¶…å‡ºé¡µæ•°é”™è¯¯
**é—®é¢˜**ï¼š`[rest_post_invalid_page_number] HTTP 400 è¯·æ±‚çš„é¡µç å¤§äºæ€»é¡µæ•°`

**åŸå› **ï¼šåˆ†é¡µæŸ¥è¯¢æ²¡æœ‰å¤„ç†é¡µæ•°è¶…é™çš„æƒ…å†µ

**è§£å†³æ–¹æ¡ˆ**ï¼šæ·»åŠ å¼‚å¸¸å¤„ç†ï¼Œä¼˜é›…å¤„ç†é¡µæ•°è¶…é™
```python
try:
    posts = wp.posts.list(page=page, per_page=10, status=['publish'])
    # å¤„ç†æ•°æ®...
except Exception as e:
    if "invalid_page_number" in str(e):
        print(f"å·²åˆ°è¾¾æœ€åä¸€é¡µï¼Œåœæ­¢åˆ†é¡µæŸ¥è¯¢")
        break
    else:
        raise e
```

#### 4. é‡å¤åˆ›å»ºå¯¼è‡´çš„å†²çªé”™è¯¯
**é—®é¢˜**ï¼š`[term_exists] HTTP 400 çˆ¶é¡¹ç›®ä¸­å·²å­˜åœ¨åŒåé¡¹ç›®`ã€`[existing_user_login] HTTP 500 ç”¨æˆ·åå·²å­˜åœ¨`

**è§£å†³æ–¹æ¡ˆ**ï¼šæ·»åŠ æ—¶é—´æˆ³é¿å…é‡å¤ï¼Œå¢åŠ å¼‚å¸¸å¤„ç†
```python
# æ·»åŠ æ—¶é—´æˆ³é¿å…é‡å¤
timestamp = datetime.now().strftime('%H%M%S')
name = f"Pythonå¼€å‘-{timestamp}"
username = f"api_user_{timestamp}"
```

### ğŸ§ª æœ€ç»ˆæµ‹è¯•ç»“æœ

**å¸¸ç”¨åŠŸèƒ½ç¤ºä¾‹è¿è¡Œç»“æœ**ï¼š
```
=== æ–‡ç« æ“ä½œæ¼”ç¤º ===
âœ“ åˆ›å»ºæˆåŠŸ: Python API åˆ›å»ºçš„æ–‡ç«  (ID: 132)
âœ“ æ›´æ–°æˆåŠŸ: æ›´æ–°åçš„æ–‡ç« æ ‡é¢˜
âœ“ æ–‡ç« å·²åˆ é™¤

=== é¡µé¢æ“ä½œæ¼”ç¤º ===  
âœ“ åˆ›å»ºæˆåŠŸ: APIåˆ›å»ºçš„é¡µé¢ (ID: 133)
âœ“ å­é¡µé¢åˆ›å»ºæˆåŠŸ: å­é¡µé¢
âœ“ é¡µé¢æ›´æ–°æˆåŠŸ

=== åˆ†ç±»å’Œæ ‡ç­¾æ“ä½œæ¼”ç¤º ===
âœ“ åˆ†ç±»åˆ›å»ºæˆåŠŸ: Pythonå¼€å‘-132718 (ID: 13)
âœ“ å­åˆ†ç±»åˆ›å»ºæˆåŠŸ: Djangoæ¡†æ¶
âœ“ æ ‡ç­¾åˆ›å»ºæˆåŠŸ: æµ‹è¯•æ ‡ç­¾ (ID: 15)

=== ç”¨æˆ·æ“ä½œæ¼”ç¤º ===
å½“å‰ç”¨æˆ·: Coralera ()
âœ“ ç”¨æˆ·ä¿¡æ¯æ›´æ–°æˆåŠŸ: Coralera

=== åª’ä½“æ“ä½œæ¼”ç¤º ===
æˆåŠŸè·å– 5 ä¸ªåª’ä½“æ–‡ä»¶:
- æ›´æ–°åçš„åª’ä½“æ ‡é¢˜ (application/zip)
- 170002495.aYVBeZSe.DSC_8667_1 (image/jpeg)
- White-and-Brown-Minimalist-Mini-Vlog-Thailand-Youtube-Thumbnail
âœ“ åª’ä½“æ›´æ–°æˆåŠŸ: æ›´æ–°åçš„åª’ä½“æ ‡é¢˜

=== é«˜çº§æŸ¥è¯¢æ¼”ç¤º ===
è·å–ç¬¬ 1 é¡µ: 3 ç¯‡æ–‡ç« 
å·²åˆ°è¾¾æœ€åä¸€é¡µï¼Œåœæ­¢åˆ†é¡µæŸ¥è¯¢
æ€»å…±è·å–: 3 ç¯‡æ–‡ç« 
```

**å•å…ƒæµ‹è¯•ç»“æœ**ï¼š
```
22 passed in 0.48s âœ…
```

### ğŸ“Š ä¿®å¤ç»Ÿè®¡

| æœåŠ¡ç±»å‹ | ä¿®å¤çš„æ¨¡å‹åˆ›å»ºæ–¹æ³• | çŠ¶æ€ |
|---------|------------------|------|
| PostService | 4ä¸ªæ–¹æ³• | âœ… å®Œæˆ |
| PageService | 3ä¸ªæ–¹æ³• | âœ… å®Œæˆ |
| CategoryService | 3ä¸ªæ–¹æ³• | âœ… å®Œæˆ |
| TagService | 3ä¸ªæ–¹æ³• | âœ… å®Œæˆ |
| UserService | 4ä¸ªæ–¹æ³• | âœ… å®Œæˆ |
| MediaService | 4ä¸ªæ–¹æ³• | âœ… å®Œæˆ |
| CommentService | 3ä¸ªæ–¹æ³• | âœ… å®Œæˆ |
| **æ€»è®¡** | **24ä¸ªæ–¹æ³•** | **âœ… å…¨éƒ¨å®Œæˆ** |

### ğŸ”§ æŠ€æœ¯æ”¹è¿›

#### 1. ç»Ÿä¸€æ¨¡å‹åˆ›å»º
- æ‰€æœ‰æœåŠ¡ç»Ÿä¸€ä½¿ç”¨ `Model.from_api_response()` æ–¹æ³•
- æ™ºèƒ½å¤„ç†WordPress APIè¿”å›çš„å„ç§æ•°æ®æ ¼å¼
- è‡ªåŠ¨è½¬æ¢ç©ºæ•°ç»„ä¸ºç©ºå¯¹è±¡

#### 2. é”™è¯¯å¤„ç†å¢å¼º
- ä¼˜é›…å¤„ç†åˆ†é¡µè¶…é™é”™è¯¯
- æ™ºèƒ½å¤„ç†é‡å¤åˆ›å»ºå†²çª
- è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œè°ƒè¯•æ”¯æŒ

#### 3. å‚æ•°éªŒè¯æ”¹è¿›
- ç§»é™¤å¯èƒ½å¯¼è‡´é”™è¯¯çš„æ— æ•ˆå‚æ•°
- æ·»åŠ æ—¶é—´æˆ³é¿å…é‡å¤åˆ›å»º
- æ›´å¥½çš„å¼‚å¸¸å¤„ç†å’Œç”¨æˆ·æç¤º

### ğŸš€ é¡¹ç›®ç°çŠ¶

- âœ… **æ‰€æœ‰æ¨¡å‹åˆ›å»ºé”™è¯¯å·²ä¿®å¤**
- âœ… **åˆ†é¡µæŸ¥è¯¢æ­£å¸¸å·¥ä½œ**
- âœ… **å‚æ•°éªŒè¯é—®é¢˜è§£å†³**
- âœ… **é‡å¤åˆ›å»ºå†²çªå¤„ç†**
- âœ… **çœŸå®WordPressç«™ç‚¹å…¨åŠŸèƒ½æµ‹è¯•é€šè¿‡**
- âœ… **22ä¸ªå•å…ƒæµ‹è¯•å…¨éƒ¨é€šè¿‡**

### ğŸ“‹ ä½¿ç”¨å»ºè®®

#### 1. ç”Ÿäº§ç¯å¢ƒä½¿ç”¨
```python
from wp_python import WordPress
from wp_python.utils import get_config, setup_logging

# è®¾ç½®æ—¥å¿—å’Œé…ç½®
logger = setup_logging()
config = get_config()

# åˆ›å»ºå®¢æˆ·ç«¯
with WordPress(config.base_url, **config.get_auth_config()) as wp:
    # å®‰å…¨çš„åˆ†é¡µæŸ¥è¯¢
    all_posts = []
    page = 1
    
    while True:
        try:
            posts = wp.posts.list(page=page, per_page=10, status=['publish'])
            if not posts:
                break
            all_posts.extend(posts)
            page += 1
        except Exception as e:
            if "invalid_page_number" in str(e):
                break
            else:
                logger.error(f"æŸ¥è¯¢å¤±è´¥: {e}")
                break
    
    logger.success(f"è·å–åˆ° {len(all_posts)} ç¯‡æ–‡ç« ")
```

#### 2. é¿å…é‡å¤åˆ›å»º
```python
from datetime import datetime

# æ·»åŠ æ—¶é—´æˆ³é¿å…é‡å¤
timestamp = datetime.now().strftime('%H%M%S')

try:
    category = wp.categories.create(
        name=f"æ–°åˆ†ç±»-{timestamp}",
        slug=f"new-category-{timestamp}"
    )
except Exception as e:
    if "term_exists" in str(e):
        logger.warning("åˆ†ç±»å·²å­˜åœ¨ï¼Œè·³è¿‡åˆ›å»º")
    else:
        logger.error(f"åˆ›å»ºå¤±è´¥: {e}")
```

### ğŸ¯ é¡¹ç›®ç‰¹è‰²

1. **å®Œå…¨ä¿®å¤**ï¼šæ‰€æœ‰å·²çŸ¥é”™è¯¯éƒ½å·²ä¿®å¤
2. **çœŸå®æµ‹è¯•**ï¼šé€šè¿‡çœŸå®WordPressç«™ç‚¹éªŒè¯
3. **ç”Ÿäº§å°±ç»ª**ï¼šå¯ç›´æ¥ç”¨äºç”Ÿäº§ç¯å¢ƒ
4. **é”™è¯¯å‹å¥½**ï¼šä¼˜é›…çš„é”™è¯¯å¤„ç†å’Œç”¨æˆ·æç¤º
5. **ç±»å‹å®‰å…¨**ï¼šå®Œæ•´çš„ç±»å‹æç¤ºå’Œæ•°æ®éªŒè¯
6. **é«˜åº¦å…¼å®¹**ï¼šæ”¯æŒæšä¸¾å’Œå­—ç¬¦ä¸²æ··åˆä½¿ç”¨

ç°åœ¨é¡¹ç›®å·²ç»å®Œå…¨ç¨³å®šï¼Œæ‰€æœ‰åŠŸèƒ½éƒ½ç»è¿‡çœŸå®WordPressç«™ç‚¹çš„å…¨é¢æµ‹è¯•ï¼ğŸ‰