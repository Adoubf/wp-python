# WordPress REST API PythonåŒ…é”™è¯¯ä¿®å¤æ€»ç»“

## ğŸ‰ æ‰€æœ‰é”™è¯¯å·²ä¿®å¤

### âœ… ä¿®å¤çš„é—®é¢˜

#### 1. ç«™ç‚¹ä¿¡æ¯è·å–é—®é¢˜
**é—®é¢˜**ï¼šç«™ç‚¹åç§°ã€æè¿°ã€URLéƒ½æ˜¾ç¤ºä¸º"æœªçŸ¥"

**åŸå› **ï¼šWordPress REST APIæ ¹ç«¯ç‚¹(`/wp-json/wp/v2/`)è¿”å›çš„æ˜¯APIè·¯ç”±ä¿¡æ¯ï¼Œè€Œä¸æ˜¯ç«™ç‚¹åŸºæœ¬ä¿¡æ¯

**è§£å†³æ–¹æ¡ˆ**ï¼š
- ä¿®æ”¹ `get_site_info()` æ–¹æ³•ï¼Œä¼˜å…ˆå°è¯•è·å– `/wp/v2/settings` ç«¯ç‚¹
- å¦‚æœæœ‰è®¤è¯æƒé™ï¼Œè¿”å›å®Œæ•´çš„ç«™ç‚¹è®¾ç½®ä¿¡æ¯
- å¦‚æœæ— æƒé™ï¼Œè¿”å›åŸºæœ¬çš„APIä¿¡æ¯å’Œè¯´æ˜

**ä¿®å¤åæ•ˆæœ**ï¼š
```
ç«™ç‚¹åç§°: Coralera
ç«™ç‚¹æè¿°: There  
ç«™ç‚¹URL: https://coralera.org
```

#### 2. ç”¨æˆ·æ¨¡å‹metaå­—æ®µéªŒè¯é”™è¯¯
**é—®é¢˜**ï¼š`1 validation error for User meta Input should be a valid dictionary [type=dict_type, input_value=[], input_type=list]`

**åŸå› **ï¼šWordPress APIæœ‰æ—¶è¿”å›ç©ºæ•°ç»„ `[]` è€Œä¸æ˜¯ç©ºå¯¹è±¡ `{}`

**è§£å†³æ–¹æ¡ˆ**ï¼š
- å¢å¼º `from_api_response()` æ–¹æ³•å¤„ç†å„ç§æ•°æ®æ ¼å¼é—®é¢˜
- æ™ºèƒ½è½¬æ¢ç©ºæ•°ç»„ä¸ºç©ºå¯¹è±¡
- å¤„ç†éç©ºæ•°ç»„çš„é”®å€¼å¯¹è½¬æ¢

**ä¿®å¤ä»£ç **ï¼š
```python
# å¤„ç†metaå­—æ®µ - WordPressæœ‰æ—¶è¿”å›ç©ºæ•°ç»„è€Œä¸æ˜¯ç©ºå¯¹è±¡
if 'meta' in data:
    if isinstance(data['meta'], list):
        if len(data['meta']) == 0:
            data['meta'] = {}
        else:
            # å¦‚æœæ˜¯éç©ºæ•°ç»„ï¼Œå°è¯•è½¬æ¢ä¸ºå­—å…¸
            meta_dict = {}
            for item in data['meta']:
                if isinstance(item, dict) and 'key' in item and 'value' in item:
                    meta_dict[item['key']] = item['value']
            data['meta'] = meta_dict if meta_dict else {}
    elif not isinstance(data['meta'], dict):
        data['meta'] = {}
```

#### 3. æ¨¡å‹åˆ›å»ºé”™è¯¯
**é—®é¢˜**ï¼š`wp_python.core.models.Post() argument after ** must be a mapping, not str`

**åŸå› **ï¼šéƒ¨åˆ†æœåŠ¡ä»ä½¿ç”¨æ—§çš„ `Model(**response)` æ–¹å¼åˆ›å»ºæ¨¡å‹

**è§£å†³æ–¹æ¡ˆ**ï¼š
- ç»Ÿä¸€æ‰€æœ‰æœåŠ¡ä½¿ç”¨ `Model.from_api_response(response)` æ–¹æ³•
- ä¿®å¤äº†ä»¥ä¸‹æœåŠ¡ä¸­çš„æ‰€æœ‰æ¨¡å‹åˆ›å»ºï¼š
  - PostService (åŒæ­¥/å¼‚æ­¥)
  - PageService (åŒæ­¥/å¼‚æ­¥)  
  - CategoryService (åŒæ­¥/å¼‚æ­¥)
  - TagService (åŒæ­¥/å¼‚æ­¥)
  - UserService (åŒæ­¥/å¼‚æ­¥)
  - MediaService (åŒæ­¥/å¼‚æ­¥)
  - CommentService (åŒæ­¥/å¼‚æ­¥)

### ğŸ§ª æµ‹è¯•ç»“æœ

**ä¿®å¤å‰**ï¼š
- âŒ ç«™ç‚¹ä¿¡æ¯æ˜¾ç¤º"æœªçŸ¥"
- âŒ ç”¨æˆ·æ“ä½œå¤±è´¥ï¼ˆmetaå­—æ®µéªŒè¯é”™è¯¯ï¼‰
- âŒ éƒ¨åˆ†APIè°ƒç”¨å¤±è´¥ï¼ˆæ¨¡å‹åˆ›å»ºé”™è¯¯ï¼‰

**ä¿®å¤å**ï¼š
- âœ… ç«™ç‚¹ä¿¡æ¯æ­£ç¡®æ˜¾ç¤º
- âœ… ç”¨æˆ·æ“ä½œæ­£å¸¸å·¥ä½œ
- âœ… æ‰€æœ‰APIè°ƒç”¨æˆåŠŸ
- âœ… 22ä¸ªå•å…ƒæµ‹è¯•å…¨éƒ¨é€šè¿‡

### ğŸ“Š å®é™…æµ‹è¯•æ•°æ®

**ç¯å¢ƒé…ç½®ç¤ºä¾‹è¿è¡Œç»“æœ**ï¼š
```
ç«™ç‚¹åç§°: Coralera
ç«™ç‚¹æè¿°: There
ç«™ç‚¹URL: https://coralera.org
è·å–åˆ° 3 ç¯‡æ–‡ç« 
è·å–åˆ° 4 ä¸ªåˆ†ç±»  
å½“å‰ç”¨æˆ·: Coralera
æ‰€æœ‰æµ‹è¯•å®Œæˆ âœ…
```

**åŸºç¡€ç¤ºä¾‹è¿è¡Œç»“æœ**ï¼š
```
ç«™ç‚¹åç§°: Coralera
ç«™ç‚¹æè¿°: There
ç«™ç‚¹URL: https://coralera.org
è·å–æœ€æ–°çš„5ç¯‡å·²å‘å¸ƒæ–‡ç« :
- äº¬éƒ½ä¹‹æ—…ï¼šå¤éŸµæ‚ ç„¶ï¼Œæ¢å¯»åƒå¹´é£å (ID: 58)
- å·´é»ä¹‹æ—…ï¼šå¾œå¾‰åœ¨æµªæ¼«ä¸è‰ºæœ¯ä¹‹åŸ (ID: 57)
- å°åŒ—ä¹‹æ—…ï¼šä»éƒ½å¸‚ç¹ååˆ°äººæ–‡çƒŸç« (ID: 1)

å‰3ä¸ªç”¨æˆ·:
- aaaaaee ()
- Coralera ()
- mosary ()

å¼‚æ­¥åˆ›å»ºæ–‡ç« æˆåŠŸ: å¼‚æ­¥åˆ›å»ºçš„æ–‡ç« 
```

### ğŸ”§ æŠ€æœ¯æ”¹è¿›

#### 1. æ™ºèƒ½æ•°æ®å¤„ç†
- è‡ªåŠ¨å¤„ç†WordPress APIè¿”å›çš„å„ç§æ•°æ®æ ¼å¼
- æ”¯æŒJSONå­—ç¬¦ä¸²è‡ªåŠ¨è§£æ
- æ™ºèƒ½è½¬æ¢æ•°ç»„/å¯¹è±¡ç±»å‹

#### 2. é”™è¯¯å¤„ç†å¢å¼º
- ä¼˜é›…é™çº§ï¼šæ— æƒé™æ—¶è¿”å›åŸºæœ¬ä¿¡æ¯
- è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œè°ƒè¯•æ”¯æŒ
- å…¼å®¹ä¸åŒWordPressé…ç½®

#### 3. è®¤è¯æƒé™å¤„ç†
- è‡ªåŠ¨æ£€æµ‹è®¤è¯æƒé™
- æ ¹æ®æƒé™è¿”å›ä¸åŒçº§åˆ«çš„ä¿¡æ¯
- å‹å¥½çš„æƒé™æç¤º

### ğŸš€ ä½¿ç”¨å»ºè®®

#### 1. ç¯å¢ƒé…ç½®
```bash
# åœ¨ .env.dev ä¸­é…ç½®çœŸå®ä¿¡æ¯
WP_BASE_URL=https://your-site.com
WP_USERNAME=your-username  
WP_APP_PASSWORD=your-app-password
```

#### 2. è¿è¡Œæµ‹è¯•
```bash
# ç¯å¢ƒé…ç½®æµ‹è¯•
poetry run python examples/env_config_example.py

# åŸºç¡€åŠŸèƒ½æµ‹è¯•
poetry run python examples/basic_usage.py

# å•å…ƒæµ‹è¯•
poetry run python -m pytest tests/ -v
```

#### 3. ç”Ÿäº§ä½¿ç”¨
```python
from wp_python import WordPress
from wp_python.utils import get_config, setup_logging

# è®¾ç½®æ—¥å¿—
logger = setup_logging()

# åŠ è½½é…ç½®
config = get_config()

# åˆ›å»ºå®¢æˆ·ç«¯
with WordPress(config.base_url, **config.get_auth_config()) as wp:
    # è·å–ç«™ç‚¹ä¿¡æ¯
    site_info = wp.get_site_info()
    logger.success(f"è¿æ¥åˆ°ç«™ç‚¹: {site_info['name']}")
    
    # è·å–æ–‡ç« ï¼ˆæ”¯æŒæšä¸¾å’Œå­—ç¬¦ä¸²æ··åˆï¼‰
    posts = wp.posts.list(
        status=[PostStatus.PUBLISH, 'draft'],
        per_page=10
    )
    logger.info(f"è·å–åˆ° {len(posts)} ç¯‡æ–‡ç« ")
```

### ğŸ“‹ é¡¹ç›®çŠ¶æ€

- âœ… **æ‰€æœ‰æ ¸å¿ƒé”™è¯¯å·²ä¿®å¤**
- âœ… **ç¯å¢ƒé…ç½®ç³»ç»Ÿæ­£å¸¸å·¥ä½œ**  
- âœ… **Richæ—¥å¿—ç³»ç»Ÿç¾è§‚è¾“å‡º**
- âœ… **æšä¸¾/å­—ç¬¦ä¸²å…¼å®¹æ€§å®Œç¾**
- âœ… **çœŸå®WordPressç«™ç‚¹æµ‹è¯•é€šè¿‡**
- âœ… **åŒæ­¥/å¼‚æ­¥æ“ä½œéƒ½æ­£å¸¸**

ç°åœ¨é¡¹ç›®å·²ç»å®Œå…¨å¯ä»¥ç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œæ‰€æœ‰åŠŸèƒ½éƒ½ç»è¿‡çœŸå®WordPressç«™ç‚¹çš„éªŒè¯ï¼ğŸ¯